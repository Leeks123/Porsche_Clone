{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/leeks/Desktop/Project/Porsche_Clone/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    position: relative;\\n    top: -100%;\\n    height: 100vh;\\n\\n    \", \"\\n    // overflow: scroll;\\n    \\n    .overlay-top {\\n        height: 100vh;\\n    }\\n    .overlay-bottom {\\n        background: linear-gradient(transparent,black);\\n        height: 100vh;\\n        z-index: 10;\\n\\n        .overlay-bottom-container {\\n            color: white;\\n            width: 86vw;\\n            margin: 0 auto;\\n            position: relative;\\n            top: 50%;\\n            transform: translateY(-50%);\\n            h1 {\\n                color: white;\\n                font-size: 40px;\\n            }\\n            p {\\n                width: 60%;\\n                font-size: 16px;\\n                margin: 60px 0;\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 100%;\\n    video {\\n        height: 100vh;\\n        object-fit: cover;\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 100vh;\\n    overflow: hidden;\\n\\n    position: sticky;\\n    top: 60px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/* eslint-disable jsx-a11y/media-has-caption */\nimport { useRef, useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Button from '../common/Button';\nvar Wrapper = styled.section(_templateObject());\nvar Background = styled.div(_templateObject2());\nvar Overlay = styled.div(_templateObject3(), function (props) {\n  return props.onTop ? 'overflow: scroll;' : 'overflow: hidden;';\n});\nvar buttonColor = {\n  fontColor: 'black',\n  backColor: 'white',\n  borderColor: 'transparent',\n  hoverBackColor: '#d5001c',\n  hoverFontColor: 'white',\n  hoverBorderColor: 'transparent'\n};\n\nvar VideoOveraly = function VideoOveraly(_ref) {\n  var data = _ref.data;\n  var wrapper = useRef(null);\n  var video = useRef(null);\n\n  var _useState = useState(false),\n      elTop = _useState[0],\n      setElTop = _useState[1];\n\n  useEffect(function () {\n    function onScroll() {\n      // window.scrollY : 얼마나 내렸는지\n      // document.documentElement.clientHeight : 화면에 보이는 길이\n      // document.documentElement.scrollHeight : 총길이\n      // console.log(\n      //   window.scrollY,\n      //   wrapper.current?.getBoundingClientRect().top,\n      // );\n      if (wrapper.current !== null) {\n        var elTopPos = wrapper.current.getBoundingClientRect().top;\n\n        if (elTopPos <= 100) {\n          var _video$current;\n\n          // console.log('on top');\n          setElTop(true);\n          (_video$current = video.current) === null || _video$current === void 0 ? void 0 : _video$current.play();\n        } else {\n          setElTop(false);\n        }\n      }\n    }\n\n    window.addEventListener('scroll', onScroll);\n    return function () {\n      window.removeEventListener('scroll', onScroll);\n    };\n  }, []);\n  return __jsx(Wrapper, {\n    ref: wrapper,\n    onTop: elTop\n  }, __jsx(Background, null, __jsx(\"video\", {\n    ref: video,\n    crossOrigin: \"\",\n    width: \"100%\",\n    height: \"100vh\",\n    poster: data.poster,\n    loop: true,\n    muted: true,\n    preload: \"none\"\n  }, __jsx(\"source\", {\n    src: data.src,\n    type: \"video/mp4\"\n  }))), __jsx(Overlay, {\n    onTop: elTop\n  }, __jsx(\"div\", {\n    className: \"overlay-top\"\n  }), __jsx(\"div\", {\n    className: \"overlay-bottom\"\n  }, __jsx(\"div\", {\n    className: \"overlay-bottom-container\"\n  }, __jsx(\"h1\", null, data.title), __jsx(\"p\", null, data.content), __jsx(Button, {\n    src: \"\",\n    text: \"\\uC790\\uC138\\uD788 \\uBCF4\\uAE30\",\n    color: buttonColor\n  }, __jsx(PlusOutlined, null))))));\n};\n\nexport default VideoOveraly;","map":null,"metadata":{},"sourceType":"module"}